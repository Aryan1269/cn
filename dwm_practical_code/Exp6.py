"""
Experiment No :6
K - Means Algorithm

Name: Danish Nevrekar
Roll No: 20CO41

"""
import numpy as np
import math
dataset = [[185, 72], [170, 56], [168, 60], [179, 68], [182, 72], [188, 77],
           [180, 71], [180, 70], [183, 84], [180, 88], [180, 67], [177, 76]]


k = 2
cluster1 = []
cluster2 = []

centroid1 = [185, 72]
centroid2 = [170, 56]
iteration = 0


def kmeans():
    global centroid1, centroid2, centroid3, cluster1, cluster2, cluster3, iteration
    iteration = iteration + 1
    print("\nIteration ", iteration)

    for i in range(0, len(dataset)):
        a = abs(math.sqrt(
            (pow(centroid1[0] - dataset[i][0], 2)) + (pow(centroid1[-1] - dataset[i][-1], 2))))
        b = abs(math.sqrt(
            (pow(centroid2[0] - dataset[i][0], 2)) + (pow(centroid2[-1] - dataset[i][-1], 2))))
        print(a, b)

        if a > b:
            cluster2.append(dataset[i])
        else:
            cluster1.append(dataset[i])

        print(cluster1, cluster2)

    listx1 = []
    listy1 = []

    for x, y in cluster1:
        listx1.append(x)
        listy1.append(y)
    x1, y1 = listx1, listy1

    listx2 = []
    listy2 = []
    for x, y in cluster2:
        listx2.append(x)
        listy2.append(y)

    x2, y2 = listx2, listy2

    valx1 = sum(x1)/len(x1)
    valy1 = sum(y1)/len(y1)

    valx2 = sum(x2)/len(x2)
    valy2 = sum(y2)/len(y2)

    tup1 = (float("{:.2f}".format(valx1)), float("{:.2f}".format(valy1)))
    tup2 = (float("{:.2f}".format(valx2)), float("{:.2f}".format(valy2)))

    print("\nThe mean centroids are \n", tup1, "\n", tup2)

    if tup1 == centroid1 and tup2 == centroid2:
        print("\nClusters have been formed")
    else:
        centroid1 = tup1
        centroid2 = tup2

        cluster1 = []
        cluster2 = []

        kmeans()


kmeans()

"""
Output:

        Iteration  1
        0.0 21.93171219946131
        [[185, 72]] []
        21.93171219946131 0.0
        [[185, 72]] [[170, 56]]
        20.808652046684813 4.47213595499958
        [[185, 72]] [[170, 56], [168, 60]]
        7.211102550927978 15.0
        [[185, 72], [179, 68]] [[170, 56], [168, 60]]
        3.0 20.0
        [[185, 72], [179, 68], [182, 72]] [[170, 56], [168, 60]]
        5.830951894845301 27.65863337187866
        [[185, 72], [179, 68], [182, 72], [188, 77]] [[170, 56], [168, 60]]
        5.0990195135927845 18.027756377319946
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71]] [[170, 56], [168, 60]]
        5.385164807134504 17.204650534085253
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71], [180, 70]] [[170, 56], [168, 60]]
        12.165525060596439 30.870698080866262
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71], [180, 70], [183, 84]] [[170, 56], [168, 60]]
        16.76305461424021 33.52610922848042
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71], [180, 70], [183, 84], [180, 88]] [[170, 56], [168, 60]]
        7.0710678118654755 14.866068747318506
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71], [180, 70], [183, 84], [180, 88], [180, 67]] [[170, 56], [168, 60]]
        8.94427190999916 21.18962010041709
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71], [180, 70], [183, 84], [180, 88], [180, 67], [177, 76]] [[170, 56], [168, 60]]

        The mean centroids are
         (181.4, 74.5)
         (169.0, 58.0)

        Iteration  2
        4.38292140016222 21.2602916254693
        [[185, 72]] []
        21.730393461693236 2.23606797749979
        [[185, 72]] [[170, 56]]
        19.7436065600994 2.23606797749979
        [[185, 72]] [[170, 56], [168, 60]]
        6.928924880528005 14.142135623730951
        [[185, 72], [179, 68]] [[170, 56], [168, 60]]
        2.5709920264364867 19.1049731745428
        [[185, 72], [179, 68], [182, 72]] [[170, 56], [168, 60]]
        7.05761999543755 26.870057685088806
        [[185, 72], [179, 68], [182, 72], [188, 77]] [[170, 56], [168, 60]]
        3.769615364994155 17.029386365926403
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71]] [[170, 56], [168, 60]]
        4.712748667179273 16.278820596099706
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71], [180, 70]] [[170, 56], [168, 60]]
        9.63379468330107 29.5296461204668
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71], [180, 70], [183, 84]] [[170, 56], [168, 60]]
        13.572398461583715 31.953090617340916
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71], [180, 70], [183, 84], [180, 88]] [[170, 56], [168, 60]]
        7.629547824084991 14.212670403551895
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71], [180, 70], [183, 84], [180, 88], [180, 67]] [[170, 56], [168, 60]]
        4.648655719667789 19.697715603592208
        [[185, 72], [179, 68], [182, 72], [188, 77], [180, 71], [180, 70], [183, 84], [180, 88], [180, 67], [177, 76]] [[170, 56], [168, 60]]

        The mean centroids are
         (181.4, 74.5)
         (169.0, 58.0)

"""
